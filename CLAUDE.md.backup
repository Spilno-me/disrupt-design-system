# DDS - Agent Context

**Agent-only. Read JSON files first.**

---

## READ FIRST (5 seconds)

1. `.claude/agent-context.json` ⭐ RULES + WORKFLOWS
2. `.claude/component-registry.json` ⭐ COMPONENT LOOKUP
3. `.claude/DESIGN-SYSTEM.md` ⭐ VISUAL DESIGN

---

## Quick Rules

### Versioning
```
NO breaking changes until v3.0.0
Breaking: rename/remove props, change types, change defaults
Safe: add optional props, new components, bug fixes
```

### Tokens
```
ZERO raw colors: NO #hex, rgb(), bg-blue-500
Use: ALIAS.text.primary OR bg-surface (semantic Tailwind)
```

### Shadows
```
Interactive → larger shadow (elevated, lg, xl)
Data display → smaller shadow (sm, md)
See DESIGN-SYSTEM.md for lookup table
```

### Git
```
NO Claude attribution
Format: feat:|fix:|chore:|refactor:|docs:
```

### Errors
```
TypeScript errors: FIX, never revert
NO git reset --hard
```

---

## Workflows

### editComponent
```
Breaking? → STOP → v3.0.0
Safe? → Update CHANGELOG
```

### createComponent
```
1. Check component-registry.json
2. Radix UI for interactive
3. ALIAS or semantic Tailwind
4. Export from src/index.ts
5. MINOR bump + CHANGELOG
```

### documentDesignDecision
```
1. DESIGN-SYSTEM.md
2. agent-context.json
3. DesignTokens.mdx
4. CHANGELOG
```

---

## Doc Maintenance

| Change | Update |
|--------|--------|
| Visual pattern | DESIGN-SYSTEM.md + DesignTokens.mdx + CHANGELOG |
| New component | component-registry.json + CHANGELOG + stories |
| Token | `npm run generate-tokens` |
| Breaking | v3-breaking-changes.md (defer) |

### Hierarchy

```
L1: agent-context.json + component-registry.json
L2: DESIGN-SYSTEM.md + storybook-rules.md
L3: testing-quick-ref.md, v3-breaking-changes.md
```

---

## Breaking vs Safe

**Breaking (v3.0.0):** rename props, remove props, change types, change defaults

**Safe (v2.x):** add optional props, new components, bug fixes, add variants

---

## Commands

```bash
npm run typecheck
npm run lint
npm run build
npm run storybook
npm run generate-tokens  # after token changes
```
