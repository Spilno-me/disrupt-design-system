{/* @jsxRuntime automatic */}
{/* @jsxImportSource react */}
import { Meta } from '@storybook/addon-docs/blocks';
import { Sparkles, Clock } from 'lucide-react';
import {
  InfoBox,
  CodeBlock,
} from './DocComponents';
import { Button } from '../../components/ui/button';
import {
  ABYSS,
  DEEP_CURRENT,
  DUSK_REEF,
  PRIMITIVES,
  SHADOWS,
  RADIUS,
  SLATE,
  SPACING,
  TRANSITIONS,
} from '../../constants/designTokens';

<Meta title="Foundation/Design Tokens/Animations" />

{/* Page Header */}
<div style={{
  background: `linear-gradient(135deg, ${DUSK_REEF[400]} 0%, ${DUSK_REEF[600]} 100%)`,
  borderRadius: RADIUS.xl,
  padding: SPACING.px.section,
  marginBottom: SPACING.px.section,
  position: 'relative',
  overflow: 'hidden',
}}>
  {/* Decorative background icon */}
  <div style={{
    position: 'absolute',
    right: '40px',
    top: '50%',
    transform: 'translateY(-50%)',
    opacity: 0.1,
    pointerEvents: 'none',
  }}>
    <Sparkles size={180} color={PRIMITIVES.white} strokeWidth={1} />
  </div>

  <div style={{ position: 'relative', zIndex: 1 }}>
    <div style={{
      display: 'inline-flex',
      alignItems: 'center',
      gap: SPACING.px.tight,
      marginBottom: SPACING.px.base,
    }}>
      <Sparkles size={28} color={PRIMITIVES.white} />
    </div>

    <h1 style={{
      margin: `0 0 ${SPACING.px.base} 0`,
      fontSize: '36px',
      fontWeight: 700,
      fontFamily: '"Pilat Extended", sans-serif',
      color: PRIMITIVES.white,
    }}>
      <span>Animations & Transitions</span>
    </h1>

    <p style={{
      margin: 0,
      fontSize: '16px',
      fontFamily: '"Fixel", sans-serif',
      color: SLATE[300],
      lineHeight: 1.6,
      maxWidth: '500px',
    }}>
      <span>Motion creates meaning. Consistent timing and easing functions make
      interactions feel natural and responsive.</span>
    </p>
  </div>
</div>

<InfoBox variant="tip">
  <strong>Rule:</strong> Use shorter durations for small elements (150-200ms),
  longer for large elements (300-500ms). Always use ease-out for user-initiated actions.
</InfoBox>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Transition Durations</h2>

<div style={{
  display: 'grid',
  gridTemplateColumns: 'repeat(4, 1fr)',
  gap: '16px',
  marginBottom: '48px',
}}>
  {[
    { name: 'Fast', value: TRANSITIONS.duration.fast, usage: 'Micro-interactions, hover states' },
    { name: 'Normal', value: TRANSITIONS.duration.normal, usage: 'Standard transitions (DEFAULT)' },
    { name: 'Smooth', value: TRANSITIONS.duration.smooth, usage: 'Larger element transitions' },
    { name: 'Slow', value: TRANSITIONS.duration.slow, usage: 'Page transitions, emphasis' },
  ].map((item) => (
    <div
      key={item.name}
      style={{
        background: PRIMITIVES.white,
        borderRadius: RADIUS.lg,
        padding: '24px',
        border: `1px solid ${SLATE[200]}`,
        boxShadow: SHADOWS.sm,
      }}
    >
      <div style={{
        display: 'flex',
        alignItems: 'center',
        gap: '8px',
        marginBottom: '12px',
      }}>
        <Clock size={16} color={DEEP_CURRENT[500]} />
        <span style={{
          fontSize: '14px',
          fontWeight: 600,
          fontFamily: '"Fixel", sans-serif',
          color: ABYSS[500],
        }}>
          {item.name}
        </span>
      </div>
      <div style={{
        fontSize: '24px',
        fontWeight: 700,
        fontFamily: '"Pilat Extended", sans-serif',
        color: DEEP_CURRENT[500],
        marginBottom: '8px',
      }}>
        <span>{item.value}</span>
      </div>
      <div style={{
        fontSize: '12px',
        fontFamily: '"Fixel", sans-serif',
        color: DUSK_REEF[500],
      }}>
        <span>{item.usage}</span>
      </div>
    </div>
  ))}
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Interactive Demos</h2>

### Button Timing Comparison

<div style={{
  display: 'flex',
  gap: '16px',
  marginBottom: '48px',
  flexWrap: 'wrap',
}}>
  <Button
    variant="accent"
    noEffect
    className="transition-all duration-150 ease-out hover:-translate-y-0.5 hover:shadow-md"
  >
    Fast (150ms)
  </Button>

  <Button
    variant="accent"
    noEffect
    className="transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md"
  >
    Normal (200ms)
  </Button>

  <Button
    variant="accent"
    noEffect
    className="transition-all duration-300 ease-out hover:-translate-y-0.5 hover:shadow-md"
  >
    Smooth (300ms)
  </Button>
</div>

### Card Hover

<div style={{
  display: 'flex',
  gap: '24px',
  marginBottom: '48px',
}}>
  <div
    style={{
      width: '200px',
      background: PRIMITIVES.white,
      borderRadius: RADIUS.lg,
      padding: '20px',
      border: `1px solid ${SLATE[200]}`,
      boxShadow: SHADOWS.sm,
      cursor: 'pointer',
      transition: `all ${TRANSITIONS.duration.normal} ${TRANSITIONS.timing.easeOut}`,
    }}
    onMouseEnter={(e) => {
      e.currentTarget.style.transform = 'translateY(-4px)'
      e.currentTarget.style.boxShadow = SHADOWS.lg
      e.currentTarget.style.borderColor = DEEP_CURRENT[500]
    }}
    onMouseLeave={(e) => {
      e.currentTarget.style.transform = 'translateY(0)'
      e.currentTarget.style.boxShadow = SHADOWS.sm
      e.currentTarget.style.borderColor = SLATE[200]
    }}
  >
    <div style={{ fontWeight: 600, marginBottom: '8px', color: ABYSS[500], fontFamily: '"Fixel", sans-serif' }}>
      <span>Card Title</span>
    </div>
    <div style={{ fontSize: '14px', color: DUSK_REEF[500], fontFamily: '"Fixel", sans-serif' }}>
      <span>Hover to see elevation change</span>
    </div>
  </div>
</div>

### Loading States

<style>{`
  @keyframes dds-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  @keyframes dds-shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
`}</style>

<div style={{
  display: 'flex',
  gap: '32px',
  marginBottom: '48px',
  alignItems: 'center',
}}>
  <div style={{ textAlign: 'center' }}>
    <div
      style={{
        width: '48px',
        height: '48px',
        border: `3px solid ${SLATE[200]}`,
        borderTopColor: DEEP_CURRENT[500],
        borderRadius: RADIUS.full,
        animation: 'dds-spin 1s linear infinite',
        marginBottom: '8px',
      }}
    />
    <span style={{ fontSize: '12px', fontFamily: '"Fixel", sans-serif', color: ABYSS[500] }}>Spinner</span>
  </div>

  <div style={{ textAlign: 'center' }}>
    <div
      style={{
        width: '200px',
        height: '48px',
        background: `linear-gradient(90deg, ${SLATE[200]} 25%, ${SLATE[100]} 50%, ${SLATE[200]} 75%)`,
        backgroundSize: '200% 100%',
        borderRadius: RADIUS.md,
        animation: 'dds-shimmer 1.5s ease-in-out infinite',
        marginBottom: '8px',
      }}
    />
    <span style={{ fontSize: '12px', fontFamily: '"Fixel", sans-serif', color: ABYSS[500] }}>Skeleton</span>
  </div>
</div>

### Easing Functions Visual

<div
  id="easing-demo-container"
  style={{
    background: PRIMITIVES.white,
    borderRadius: RADIUS.lg,
    padding: '24px',
    border: `1px solid ${SLATE[200]}`,
    marginBottom: '48px',
  }}
>
  <div style={{
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    marginBottom: '16px',
  }}>
    <div style={{
      fontSize: '14px',
      fontWeight: 600,
      fontFamily: '"Fixel", sans-serif',
      color: ABYSS[500],
    }}>
      <span>Compare easing functions side by side</span>
    </div>
    <Button
      variant="accent"
      size="sm"
      onClick={() => {
        const bars = document.querySelectorAll('[data-easing-bar]');
        bars.forEach(bar => { bar.style.width = '0%'; });
        setTimeout(() => {
          bars.forEach(bar => { bar.style.width = '100%'; });
        }, 100);
      }}
    >
      Play All
    </Button>
  </div>

  {[
    { name: 'ease', timing: TRANSITIONS.timing.ease, desc: 'General purpose' },
    { name: 'ease-out', timing: TRANSITIONS.timing.easeOut, desc: 'Recommended for UI', highlight: true },
    { name: 'ease-in', timing: TRANSITIONS.timing.easeIn, desc: 'Elements exiting' },
    { name: 'ease-in-out', timing: TRANSITIONS.timing.easeInOut, desc: 'Looping animations' },
    { name: 'linear', timing: 'linear', desc: 'Constant speed' },
  ].map((item) => (
    <div key={item.name} style={{ marginBottom: '12px' }}>
      <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '4px' }}>
        <code style={{
          width: '100px',
          fontSize: '12px',
          fontFamily: 'ui-monospace, monospace',
          color: item.highlight ? DEEP_CURRENT[600] : DUSK_REEF[500],
          fontWeight: item.highlight ? 600 : 400,
        }}>{item.name}</code>
        <span style={{
          fontSize: '11px',
          color: item.highlight ? DEEP_CURRENT[600] : SLATE[500],
          fontFamily: '"Fixel", sans-serif',
          fontWeight: item.highlight ? 500 : 400,
        }}>{item.desc}</span>
      </div>
      <div style={{
        background: SLATE[100],
        borderRadius: RADIUS.xs,
        height: '28px',
        position: 'relative',
        overflow: 'hidden',
      }}>
        <div
          data-easing-bar
          style={{
            position: 'absolute',
            left: 0,
            top: 0,
            bottom: 0,
            width: '0%',
            background: item.highlight ? DEEP_CURRENT[500] : DUSK_REEF[400],
            borderRadius: RADIUS.xs,
            transition: `width 1000ms ${item.timing}`,
          }}
        />
      </div>
    </div>
  ))}
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Usage Examples</h2>

<CodeBlock
  language="tsx"
  code={`// Button hover
<button className="
  bg-accent-strong
  text-inverse
  transition-all
  duration-200
  ease-out
  hover:bg-accent-strong/90
  hover:-translate-y-0.5
  hover:shadow-md
">
  Hover me
</button>

// Card hover elevation
<div className="
  bg-surface
  shadow-sm
  transition-all
  duration-200
  hover:shadow-elevated
  hover:-translate-y-1
  hover:border-accent
">
  Interactive card
</div>

// Focus ring animation
<input className="
  transition-all
  duration-150
  focus:ring-2
  focus:ring-focus
  focus:border-focus
" />

// Smooth page transitions
<div className="
  transition-opacity
  duration-300
  ease-out
">
  Page content
</div>`}
/>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>TypeScript Usage</h2>

<CodeBlock
  language="typescript"
  code={`import { TRANSITIONS } from '@adrozdenko/design-system'

const buttonStyle = {
  transition: \`all \${TRANSITIONS.duration.normal} \${TRANSITIONS.timing.easeOut}\`,
}

// Or use the common patterns
const cardStyle = {
  transition: 'all 200ms ease-out',
}`}
/>
