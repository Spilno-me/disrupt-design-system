{/* @jsxRuntime automatic */}
{/* @jsxImportSource react */}
import { Meta } from '@storybook/addon-docs/blocks';
import { Layers } from 'lucide-react';
import {
  BrandHero,
  InfoBox,
  ABYSS,
  DEEP_CURRENT,
  DUSK_REEF,
  CORAL,
  PRIMITIVES,
  RADIUS,
  SLATE,
  SPACING,
} from '../brand/BrandComponents';
import { CodeBlock } from './DocComponents';
import { Z_INDEX } from '../../constants/designTokens';

<Meta title="Foundation/Design Tokens/Z-Index" />

<BrandHero
  title="Z-Index Layers"
  description="A consistent stacking order system for UI elements, ensuring predictable layering across the application."
  gradient="purple"
  decorativeIcon={<Layers size={180} color={PRIMITIVES.white} strokeWidth={1} />}
/>

<InfoBox variant="tip">
  <strong>Stacking Context:</strong> Use these semantic tokens instead of arbitrary z-index values.
  This ensures consistent layering and prevents z-index wars.
</InfoBox>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Layer Visualization</h2>

<div style={{
  position: 'relative',
  height: '320px',
  background: SLATE[100],
  borderRadius: RADIUS.lg,
  overflow: 'hidden',
  marginBottom: SPACING.px.section,
}}>
  {Object.entries(Z_INDEX).map(([name, value], index) => {
    const colors = [SLATE[400], PRIMITIVES.cream, DEEP_CURRENT[500], DUSK_REEF[500], CORAL[500]];
    const textColors = [ABYSS[700], ABYSS[700], PRIMITIVES.white, PRIMITIVES.white, PRIMITIVES.white];
    return (
      <div
        key={name}
        style={{
          position: 'absolute',
          left: '50%',
          transform: 'translateX(-50%)',
          width: '220px',
          height: '56px',
          borderRadius: RADIUS.md,
          boxShadow: '0 4px 12px rgba(0,0,0,0.15)',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          bottom: (index * 50 + 20) + 'px',
          backgroundColor: colors[index] || SLATE[300],
          color: textColors[index] || ABYSS[700],
          zIndex: value,
          fontFamily: '"JetBrains Mono", monospace',
          fontSize: '14px',
          fontWeight: 600,
        }}
      >
        {name}: {value}
      </div>
    );
  })}
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Token Reference</h2>

<div style={{
  background: PRIMITIVES.white,
  borderRadius: RADIUS.lg,
  border: '1px solid ' + SLATE[200],
  overflow: 'hidden',
  marginBottom: SPACING.px.section,
}}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <thead>
      <tr style={{ background: SLATE[50], borderBottom: '1px solid ' + SLATE[200] }}>
        <th style={{ padding: '12px 16px', textAlign: 'left', fontWeight: 600, fontSize: '13px', color: ABYSS[700] }}>Token</th>
        <th style={{ padding: '12px 16px', textAlign: 'left', fontWeight: 600, fontSize: '13px', color: ABYSS[700] }}>Value</th>
        <th style={{ padding: '12px 16px', textAlign: 'left', fontWeight: 600, fontSize: '13px', color: ABYSS[700] }}>Use Case</th>
      </tr>
    </thead>
    <tbody>
      <tr style={{ borderBottom: '1px solid ' + SLATE[100] }}>
        <td style={{ padding: '12px 16px' }}><code style={{ fontFamily: '"JetBrains Mono", monospace', fontSize: '13px', color: DEEP_CURRENT[600] }}>Z_INDEX.base</code></td>
        <td style={{ padding: '12px 16px', fontFamily: '"JetBrains Mono", monospace', fontSize: '13px' }}>0</td>
        <td style={{ padding: '12px 16px', fontSize: '13px', color: DUSK_REEF[500] }}>Default stacking context</td>
      </tr>
      <tr style={{ borderBottom: '1px solid ' + SLATE[100] }}>
        <td style={{ padding: '12px 16px' }}><code style={{ fontFamily: '"JetBrains Mono", monospace', fontSize: '13px', color: DEEP_CURRENT[600] }}>Z_INDEX.dropdown</code></td>
        <td style={{ padding: '12px 16px', fontFamily: '"JetBrains Mono", monospace', fontSize: '13px' }}>10</td>
        <td style={{ padding: '12px 16px', fontSize: '13px', color: DUSK_REEF[500] }}>Dropdowns, select menus, popovers</td>
      </tr>
      <tr style={{ borderBottom: '1px solid ' + SLATE[100] }}>
        <td style={{ padding: '12px 16px' }}><code style={{ fontFamily: '"JetBrains Mono", monospace', fontSize: '13px', color: DEEP_CURRENT[600] }}>Z_INDEX.header</code></td>
        <td style={{ padding: '12px 16px', fontFamily: '"JetBrains Mono", monospace', fontSize: '13px' }}>20</td>
        <td style={{ padding: '12px 16px', fontSize: '13px', color: DUSK_REEF[500] }}>Sticky headers, navigation bars</td>
      </tr>
      <tr style={{ borderBottom: '1px solid ' + SLATE[100] }}>
        <td style={{ padding: '12px 16px' }}><code style={{ fontFamily: '"JetBrains Mono", monospace', fontSize: '13px', color: DEEP_CURRENT[600] }}>Z_INDEX.modal</code></td>
        <td style={{ padding: '12px 16px', fontFamily: '"JetBrains Mono", monospace', fontSize: '13px' }}>30</td>
        <td style={{ padding: '12px 16px', fontSize: '13px', color: DUSK_REEF[500] }}>Modal dialogs, overlays</td>
      </tr>
      <tr>
        <td style={{ padding: '12px 16px' }}><code style={{ fontFamily: '"JetBrains Mono", monospace', fontSize: '13px', color: DEEP_CURRENT[600] }}>Z_INDEX.tooltip</code></td>
        <td style={{ padding: '12px 16px', fontFamily: '"JetBrains Mono", monospace', fontSize: '13px' }}>40</td>
        <td style={{ padding: '12px 16px', fontSize: '13px', color: DUSK_REEF[500] }}>Tooltips (always on top)</td>
      </tr>
    </tbody>
  </table>
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Usage</h2>

### TypeScript Import

<CodeBlock
  language="typescript"
  code={`import { Z_INDEX } from '@adrozdenko/design-system'

// Use in inline styles
<header style={{ zIndex: Z_INDEX.header }}>
  Navigation
</header>

// Use in modals
<div className="modal-overlay" style={{ zIndex: Z_INDEX.modal }}>
  <div className="modal-content">...</div>
</div>

// Tooltips always on top
<div className="tooltip" style={{ zIndex: Z_INDEX.tooltip }}>
  Helpful hint
</div>`}
/>

### CSS Variables

<CodeBlock
  language="css"
  code={`/* Available CSS variables */
:root {
  --z-base: 0;
  --z-dropdown: 10;
  --z-header: 20;
  --z-modal: 30;
  --z-tooltip: 40;
}

/* Usage */
.header {
  position: sticky;
  top: 0;
  z-index: var(--z-header);
}

.modal-overlay {
  position: fixed;
  inset: 0;
  z-index: var(--z-modal);
}

.tooltip {
  z-index: var(--z-tooltip);
}`}
/>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Best Practices</h2>

<div style={{
  display: 'grid',
  gridTemplateColumns: 'repeat(2, 1fr)',
  gap: SPACING.px.cardGap,
}}>
  <div style={{
    background: '#F0FDF4',
    borderRadius: RADIUS.lg,
    padding: SPACING.px.comfortable,
    border: '1px solid #BBF7D0',
  }}>
    <div style={{ fontWeight: 600, color: '#166534', marginBottom: '8px', fontSize: '14px' }}>Do</div>
    <ul style={{ margin: 0, paddingLeft: '20px', fontSize: '13px', color: '#166534' }}>
      <li>Use semantic tokens (Z_INDEX.modal)</li>
      <li>Keep stacking contexts simple</li>
      <li>Use position: relative to create new contexts</li>
      <li>Document any custom z-index needs</li>
    </ul>
  </div>
  <div style={{
    background: '#FEF2F2',
    borderRadius: RADIUS.lg,
    padding: SPACING.px.comfortable,
    border: '1px solid #FECACA',
  }}>
    <div style={{ fontWeight: 600, color: '#991B1B', marginBottom: '8px', fontSize: '14px' }}>Avoid</div>
    <ul style={{ margin: 0, paddingLeft: '20px', fontSize: '13px', color: '#991B1B' }}>
      <li>Arbitrary values (z-index: 9999)</li>
      <li>Competing z-index escalation</li>
      <li>Mixing semantic and arbitrary values</li>
      <li>Nesting stacking contexts unnecessarily</li>
    </ul>
  </div>
</div>
