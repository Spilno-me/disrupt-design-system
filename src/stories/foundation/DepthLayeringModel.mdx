{/* @jsxRuntime automatic */}
{/* @jsxImportSource react */}
import { Meta } from '@storybook/addon-docs/blocks';
import {
  Layers,
  Eye,
  Sun,
  Moon,
  ArrowDown,
  Lightbulb,
  FileStack,
  SquareStack,
  Palette,
  Check,
  X,
} from 'lucide-react';
import {
  BrandHero,
  InfoBox,
  SectionHeader,
  ABYSS,
  DEEP_CURRENT,
  DUSK_REEF,
  CORAL,
  PRIMITIVES,
  SHADOWS,
  RADIUS,
  SLATE,
  SPACING,
  TYPOGRAPHY,
  SIZES,
  DEPTH_MODEL,
} from '../brand/BrandComponents';
import { SUNRISE } from '../../constants/designTokens';

<Meta title="Foundation/Depth Layering Model" />

{/* Hero Header */}
<BrandHero
  title="Depth Layering Model"
  description="The mandatory depth system for all DDS interfaces. These rules define how background shades must be applied based on UI element proximity to the viewer."
  gradient="primary"
  decorativeIcon={<Layers size={180} color={PRIMITIVES.white} strokeWidth={1} />}
/>

<InfoBox variant="warning">
  <strong>Required:</strong> All DDS implementations must follow this depth model exactly.
  Light theme: closer = lighter. Dark theme: closer = lighter (inverted scale). No exceptions.
</InfoBox>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>The Paper Stack Metaphor</h2>

<SectionHeader
  icon={<FileStack size={20} />}
  title="Layered Surfaces"
  description="UI elements are organized as stacked layers. Each layer has a fixed shade assignment."
/>

{/* Main Visual Metaphor */}
<div style={{
  background: PRIMITIVES.cream,
  borderRadius: RADIUS.lg,
  padding: SPACING.px.spacious,
  border: `1px solid ${SLATE[200]}`,
  marginBottom: SPACING.px.section,
}}>
  {/* 3D Stack Visualization */}
  <div style={{
    display: 'flex',
    justifyContent: 'center',
    alignItems: 'center',
    gap: SPACING.px.page,
    marginBottom: SPACING.px.spacious,
    flexWrap: 'wrap',
  }}>
    {/* Light Theme Stack */}
    <div style={{ textAlign: 'center' }}>
      {/* Stacked Papers - Light */}
      <div style={{
        position: 'relative',
        width: '200px',
        height: '200px',
        perspective: '400px',
      }}>
        {/* Page layer - furthest */}
        <div style={{
          position: 'absolute',
          width: '180px',
          height: '120px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'page').light.color,
          borderRadius: RADIUS.md,
          top: '80px',
          left: '10px',
          transform: 'rotateX(45deg)',
          boxShadow: SHADOWS.sm,
          display: 'flex',
          alignItems: 'flex-end',
          justifyContent: 'center',
          paddingBottom: SPACING.px.tight,
        }}>
          <span style={{
            fontSize: TYPOGRAPHY.fontSize.xs[0],
            fontFamily: TYPOGRAPHY.fontFamily.mono,
            color: ABYSS[500],
          }}>Page ({DEPTH_MODEL.layers.find(l => l.name === 'page').light.label})</span>
        </div>

        {/* Surface layer - middle distance */}
        <div style={{
          position: 'absolute',
          width: '160px',
          height: '100px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'surface').light.color,
          borderRadius: RADIUS.md,
          top: '50px',
          left: '20px',
          transform: 'rotateX(45deg)',
          boxShadow: SHADOWS.md,
          border: `1px solid ${SLATE[200]}`,
          display: 'flex',
          alignItems: 'flex-end',
          justifyContent: 'center',
          paddingBottom: SPACING.px.tight,
        }}>
          <span style={{
            fontSize: TYPOGRAPHY.fontSize.xs[0],
            fontFamily: TYPOGRAPHY.fontFamily.mono,
            color: ABYSS[500],
          }}>Surface ({DEPTH_MODEL.layers.find(l => l.name === 'surface').light.label})</span>
        </div>

        {/* Card layer - closest, lightest */}
        <div style={{
          position: 'absolute',
          width: '140px',
          height: '80px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'card').light.color,
          borderRadius: RADIUS.md,
          top: '20px',
          left: '30px',
          transform: 'rotateX(45deg)',
          boxShadow: SHADOWS.lg,
          border: `1px solid ${SLATE[200]}`,
          display: 'flex',
          alignItems: 'flex-end',
          justifyContent: 'center',
          paddingBottom: SPACING.px.tight,
        }}>
          <span style={{
            fontSize: TYPOGRAPHY.fontSize.xs[0],
            fontFamily: TYPOGRAPHY.fontFamily.mono,
            color: ABYSS[500],
          }}>Card ({DEPTH_MODEL.layers.find(l => l.name === 'card').light.label})</span>
        </div>

        {/* Eye indicator */}
        <div style={{
          position: 'absolute',
          top: '-20px',
          left: '50%',
          transform: 'translateX(-50%)',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
        }}>
          <Eye size={24} color={DEEP_CURRENT[500]} />
          <ArrowDown size={16} color={DEEP_CURRENT[500]} style={{ marginTop: SPACING.px.micro }} />
        </div>
      </div>

      <div style={{
        fontSize: TYPOGRAPHY.fontSize.xs[0],
        fontFamily: TYPOGRAPHY.fontFamily.sans,
        color: SLATE[500],
        marginTop: SPACING.px.comfortable,
      }}>
        <span style={{ color: DEEP_CURRENT[700], fontWeight: TYPOGRAPHY.fontWeight.medium }}>Closer = Lighter</span>
        <br />
        <span style={{ color: DUSK_REEF[600], fontWeight: TYPOGRAPHY.fontWeight.medium }}>Further = Darker</span>
      </div>
    </div>

    {/* Dark Theme Stack */}
    <div style={{ textAlign: 'center' }}>
      {/* Stacked Papers - Dark */}
      <div style={{
        position: 'relative',
        width: '200px',
        height: '200px',
        perspective: '400px',
      }}>
        {/* Background layer - furthest, darkest */}
        <div style={{
          position: 'absolute',
          width: '180px',
          height: '120px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'page').dark.color,
          borderRadius: RADIUS.md,
          top: '80px',
          left: '10px',
          transform: 'rotateX(45deg)',
          boxShadow: SHADOWS.md,
          display: 'flex',
          alignItems: 'flex-end',
          justifyContent: 'center',
          paddingBottom: SPACING.px.tight,
        }}>
          <span style={{
            fontSize: TYPOGRAPHY.fontSize.xs[0],
            fontFamily: TYPOGRAPHY.fontFamily.mono,
            color: SLATE[500],
          }}>Page ({DEPTH_MODEL.layers.find(l => l.name === 'page').dark.label})</span>
        </div>

        {/* Surface layer - middle */}
        <div style={{
          position: 'absolute',
          width: '160px',
          height: '100px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'surface').dark.color,
          borderRadius: RADIUS.md,
          top: '50px',
          left: '20px',
          transform: 'rotateX(45deg)',
          boxShadow: SHADOWS.lg,
          border: `1px solid ${ABYSS[600]}`,
          display: 'flex',
          alignItems: 'flex-end',
          justifyContent: 'center',
          paddingBottom: SPACING.px.tight,
        }}>
          <span style={{
            fontSize: TYPOGRAPHY.fontSize.xs[0],
            fontFamily: TYPOGRAPHY.fontFamily.mono,
            color: SLATE[300],
          }}>Surface ({DEPTH_MODEL.layers.find(l => l.name === 'surface').dark.label})</span>
        </div>

        {/* Card layer - closest, lightest */}
        <div style={{
          position: 'absolute',
          width: '140px',
          height: '80px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'card').dark.color,
          borderRadius: RADIUS.md,
          top: '20px',
          left: '30px',
          transform: 'rotateX(45deg)',
          boxShadow: SHADOWS.xl,
          border: `1px solid ${ABYSS[400]}`,
          display: 'flex',
          alignItems: 'flex-end',
          justifyContent: 'center',
          paddingBottom: SPACING.px.tight,
        }}>
          <span style={{
            fontSize: TYPOGRAPHY.fontSize.xs[0],
            fontFamily: TYPOGRAPHY.fontFamily.mono,
            color: PRIMITIVES.white,
          }}>Card ({DEPTH_MODEL.layers.find(l => l.name === 'card').dark.label})</span>
        </div>

        {/* Eye indicator */}
        <div style={{
          position: 'absolute',
          top: '-20px',
          left: '50%',
          transform: 'translateX(-50%)',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
        }}>
          <Eye size={24} color={DEEP_CURRENT[500]} />
          <ArrowDown size={16} color={DEEP_CURRENT[500]} style={{ marginTop: SPACING.px.micro }} />
        </div>
      </div>

      <div style={{
        fontSize: TYPOGRAPHY.fontSize.xs[0],
        fontFamily: TYPOGRAPHY.fontFamily.sans,
        color: SLATE[500],
        marginTop: SPACING.px.comfortable,
      }}>
        <span style={{ color: DEEP_CURRENT[700], fontWeight: TYPOGRAPHY.fontWeight.medium }}>Closer = Lighter</span>
        <br />
        <span style={{ color: DUSK_REEF[600], fontWeight: TYPOGRAPHY.fontWeight.medium }}>Further = Darker</span>
      </div>
    </div>
  </div>

  {/* Key Insight Box */}
  <div style={{
    background: DEEP_CURRENT[50],
    borderRadius: RADIUS.md,
    padding: SPACING.px.comfortable,
    textAlign: 'center',
  }}>
    <div style={{
      fontSize: TYPOGRAPHY.fontSize.sm[0],
      fontFamily: TYPOGRAPHY.fontFamily.sans,
      color: DEEP_CURRENT[700],
    }}>
      <strong>Key Insight:</strong> The relationship stays consistent.
      Elements closer to the viewer are always <em>relatively lighter</em> than elements further away,
      regardless of theme.
    </div>
  </div>
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Depth Hierarchy</h2>

<SectionHeader
  icon={<SquareStack size={20} />}
  title="Layer Progression"
  description="Fixed layer assignments. Use only these tokens for each UI depth level."
/>

{/* Depth Layers Table */}
<div style={{
  background: PRIMITIVES.cream,
  borderRadius: RADIUS.lg,
  padding: SPACING.px.comfortable,
  border: `1px solid ${SLATE[200]}`,
  marginBottom: SPACING.px.section,
}}>
  <table style={{
    width: '100%',
    borderCollapse: 'separate',
    borderSpacing: 0,
    fontSize: TYPOGRAPHY.fontSize.sm[0],
    fontFamily: TYPOGRAPHY.fontFamily.sans,
    borderRadius: RADIUS.md,
    overflow: 'hidden',
    background: PRIMITIVES.white,
  }}>
    <thead>
      <tr>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'left', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: SPACING.px.micro }}>
            <Eye size={14} color={DEEP_CURRENT[500]} />
            Distance
          </div>
        </th>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'left', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>Layer</th>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'left', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: SPACING.px.micro }}>
            <Sun size={14} color={SUNRISE[500]} />
            Light Mode
          </div>
        </th>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'left', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: SPACING.px.micro }}>
            <Moon size={14} color={DUSK_REEF[500]} />
            Dark Mode
          </div>
        </th>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'left', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>Use Case</th>
      </tr>
    </thead>
    <tbody>
      {DEPTH_MODEL.layers.filter(l => ['elevated', 'card', 'surface', 'page'].includes(l.name)).map((layer, idx, arr) => (
        <tr key={layer.name} style={{ borderBottom: `1px solid ${SLATE[100]}` }}>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}` }}>
            {idx === 0 && (
              <span style={{
                background: DEEP_CURRENT[50],
                color: DEEP_CURRENT[700],
                padding: `${SPACING.px.micro} ${SPACING.px.tight}`,
                borderRadius: RADIUS.xs,
                fontSize: TYPOGRAPHY.fontSize.xs[0],
                fontWeight: TYPOGRAPHY.fontWeight.medium,
              }}>
                Closest
              </span>
            )}
            {idx === arr.length - 1 && (
              <span style={{
                background: DUSK_REEF[50],
                color: DUSK_REEF[600],
                padding: `${SPACING.px.micro} ${SPACING.px.tight}`,
                borderRadius: RADIUS.xs,
                fontSize: TYPOGRAPHY.fontSize.xs[0],
                fontWeight: TYPOGRAPHY.fontWeight.medium,
              }}>
                Furthest
              </span>
            )}
          </td>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, fontWeight: TYPOGRAPHY.fontWeight.medium, color: ABYSS[500] }}>
            {layer.displayName}
          </td>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}` }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: SPACING.px.tight }}>
              <div style={{
                width: '24px',
                height: '24px',
                borderRadius: RADIUS.xs,
                background: layer.light.color,
                border: `1px solid ${SLATE[200]}`,
              }} />
              <span style={{ fontFamily: TYPOGRAPHY.fontFamily.mono, fontSize: TYPOGRAPHY.fontSize.xs[0], color: ABYSS[400] }}>
                {layer.light.label}
              </span>
            </div>
          </td>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}` }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: SPACING.px.tight }}>
              <div style={{
                width: '24px',
                height: '24px',
                borderRadius: RADIUS.xs,
                background: layer.dark.color,
                border: `1px solid ${SLATE[600]}`,
              }} />
              <span style={{ fontFamily: TYPOGRAPHY.fontFamily.mono, fontSize: TYPOGRAPHY.fontSize.xs[0], color: ABYSS[400] }}>
                {layer.dark.label}
              </span>
            </div>
          </td>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, color: SLATE[600], fontSize: TYPOGRAPHY.fontSize.xs[0] }}>
            {layer.description}
          </td>
        </tr>
      ))}
    </tbody>
  </table>
</div>

<InfoBox variant="info">
  <strong>Elevation = Light:</strong> When an element is "elevated" (closer to the viewer), it should appear lighter.
  This creates the illusion that the element is rising toward the user.
</InfoBox>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Side-by-Side Comparison</h2>

<SectionHeader
  icon={<Layers size={20} />}
  title="Real UI Example"
  description="Required implementation pattern for standard layouts."
/>

{/* Side-by-side UI comparison */}
<div style={{
  display: 'grid',
  gridTemplateColumns: 'repeat(2, 1fr)',
  gap: SPACING.px.comfortable,
  marginBottom: SPACING.px.section,
}}>
  {/* Light Theme UI */}
  <div style={{
    background: DEPTH_MODEL.layers.find(l => l.name === 'page').light.color,
    borderRadius: RADIUS.lg,
    padding: SPACING.px.comfortable,
    border: `1px solid ${SLATE[200]}`,
  }}>
    <div style={{
      display: 'flex',
      alignItems: 'center',
      gap: SPACING.px.tight,
      marginBottom: SPACING.px.base,
    }}>
      <Sun size={18} color={SUNRISE[500]} />
      <span style={{
        fontSize: TYPOGRAPHY.fontSize.sm[0],
        fontWeight: TYPOGRAPHY.fontWeight.semibold,
        fontFamily: TYPOGRAPHY.fontFamily.sans,
        color: ABYSS[500],
      }}>Light Theme UI</span>
    </div>

    {/* Mock App Layout */}
    <div style={{
      display: 'flex',
      gap: SPACING.px.tight,
      height: '200px',
    }}>
      {/* Sidebar (Surface) */}
      <div style={{
        width: '60px',
        background: DEPTH_MODEL.layers.find(l => l.name === 'surface').light.color,
        borderRadius: RADIUS.sm,
        padding: SPACING.px.tight,
        display: 'flex',
        flexDirection: 'column',
        gap: SPACING.px.tight,
        border: `1px solid ${SLATE[200]}`,
        boxShadow: SHADOWS.sm,
      }}>
        <div style={{
          width: '100%',
          height: '32px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'elevated').light.color,
          borderRadius: RADIUS.xs,
          border: `1px solid ${SLATE[200]}`,
          boxShadow: SHADOWS.sm,
        }} />
        <div style={{
          width: '100%',
          height: '32px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'elevated').light.color,
          borderRadius: RADIUS.xs,
          border: `1px solid ${SLATE[200]}`,
          boxShadow: SHADOWS.sm,
        }} />
        <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: ABYSS[500], textAlign: 'center', marginTop: 'auto' }}>Surface</div>
      </div>

      {/* Main content area (Surface) */}
      <div style={{
        flex: 1,
        background: DEPTH_MODEL.layers.find(l => l.name === 'surface').light.color,
        borderRadius: RADIUS.sm,
        padding: SPACING.px.tight,
        border: `1px solid ${SLATE[200]}`,
        boxShadow: SHADOWS.sm,
      }}>
        {/* Card - closest */}
        <div style={{
          background: DEPTH_MODEL.layers.find(l => l.name === 'card').light.color,
          borderRadius: RADIUS.sm,
          padding: SPACING.px.base,
          boxShadow: SHADOWS.md,
          marginBottom: SPACING.px.tight,
          border: `1px solid ${SLATE[200]}`,
        }}>
          <div style={{ width: '60%', height: '10px', background: ABYSS[300], borderRadius: RADIUS.xs, marginBottom: SPACING.px.tight }} />
          <div style={{ width: '80%', height: '8px', background: SLATE[200], borderRadius: RADIUS.xs }} />
          <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: ABYSS[500], marginTop: SPACING.px.tight }}>Card ({DEPTH_MODEL.layers.find(l => l.name === 'card').light.label})</div>
        </div>

        <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: ABYSS[500], textAlign: 'center' }}>Surface ({DEPTH_MODEL.layers.find(l => l.name === 'surface').light.label})</div>
      </div>
    </div>

    <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: ABYSS[500], textAlign: 'center', marginTop: SPACING.px.tight }}>Page ({DEPTH_MODEL.layers.find(l => l.name === 'page').light.label})</div>
  </div>

  {/* Dark Theme UI */}
  <div style={{
    background: DEPTH_MODEL.layers.find(l => l.name === 'page').dark.color,
    borderRadius: RADIUS.lg,
    padding: SPACING.px.comfortable,
    border: `1px solid ${ABYSS[700]}`,
  }}>
    <div style={{
      display: 'flex',
      alignItems: 'center',
      gap: SPACING.px.tight,
      marginBottom: SPACING.px.base,
    }}>
      <Moon size={18} color={SLATE[300]} />
      <span style={{
        fontSize: TYPOGRAPHY.fontSize.sm[0],
        fontWeight: TYPOGRAPHY.fontWeight.semibold,
        fontFamily: TYPOGRAPHY.fontFamily.sans,
        color: PRIMITIVES.white,
      }}>Dark Theme UI</span>
    </div>

    {/* Mock App Layout */}
    <div style={{
      display: 'flex',
      gap: SPACING.px.tight,
      height: '200px',
    }}>
      {/* Sidebar (Surface) */}
      <div style={{
        width: '60px',
        background: DEPTH_MODEL.layers.find(l => l.name === 'surface').dark.color,
        borderRadius: RADIUS.sm,
        padding: SPACING.px.tight,
        display: 'flex',
        flexDirection: 'column',
        gap: SPACING.px.tight,
        border: `1px solid ${ABYSS[600]}`,
        boxShadow: SHADOWS.sm,
      }}>
        <div style={{
          width: '100%',
          height: '32px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'elevated').dark.color,
          borderRadius: RADIUS.xs,
          border: `1px solid ${ABYSS[400]}`,
          boxShadow: SHADOWS.sm,
        }} />
        <div style={{
          width: '100%',
          height: '32px',
          background: DEPTH_MODEL.layers.find(l => l.name === 'elevated').dark.color,
          borderRadius: RADIUS.xs,
          border: `1px solid ${ABYSS[400]}`,
          boxShadow: SHADOWS.sm,
        }} />
        <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[400], textAlign: 'center', marginTop: 'auto' }}>Surface</div>
      </div>

      {/* Main content area */}
      <div style={{
        flex: 1,
        background: DEPTH_MODEL.layers.find(l => l.name === 'surface').dark.color,
        borderRadius: RADIUS.sm,
        padding: SPACING.px.tight,
        border: `1px solid ${ABYSS[600]}`,
        boxShadow: SHADOWS.sm,
      }}>
        {/* Card - closest */}
        <div style={{
          background: DEPTH_MODEL.layers.find(l => l.name === 'card').dark.color,
          borderRadius: RADIUS.sm,
          padding: SPACING.px.base,
          boxShadow: SHADOWS.md,
          marginBottom: SPACING.px.tight,
          border: `1px solid ${ABYSS[400]}`,
        }}>
          <div style={{ width: '60%', height: '10px', background: SLATE[300], borderRadius: RADIUS.xs, marginBottom: SPACING.px.tight }} />
          <div style={{ width: '80%', height: '8px', background: ABYSS[400], borderRadius: RADIUS.xs }} />
          <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: PRIMITIVES.white, marginTop: SPACING.px.tight }}>Card ({DEPTH_MODEL.layers.find(l => l.name === 'card').dark.label})</div>
        </div>

        <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[300], textAlign: 'center' }}>Surface ({DEPTH_MODEL.layers.find(l => l.name === 'surface').dark.label})</div>
      </div>
    </div>

    <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[500], textAlign: 'center', marginTop: SPACING.px.tight }}>Page ({DEPTH_MODEL.layers.find(l => l.name === 'page').dark.label})</div>
  </div>
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>The Depth Formula</h2>

<SectionHeader
  icon={<Lightbulb size={20} />}
  title="Mathematical Relationship"
  description="The exact shade progression formula. Do not deviate."
/>

<div style={{
  background: PRIMITIVES.cream,
  borderRadius: RADIUS.lg,
  padding: SPACING.px.spacious,
  border: `1px solid ${SLATE[200]}`,
  marginBottom: SPACING.px.section,
}}>
  {/* Depth scale visualization */}
  <div style={{
    display: 'flex',
    justifyContent: 'center',
    alignItems: 'flex-end',
    gap: SPACING.px.tight,
    marginBottom: SPACING.px.comfortable,
  }}>
    {/* Light mode gradient bars */}
    <div style={{ textAlign: 'center' }}>
      <div style={{
        fontSize: TYPOGRAPHY.fontSize.xs[0],
        color: SLATE[500],
        marginBottom: SPACING.px.tight,
      }}>Light Mode Depth</div>
      <div style={{ display: 'flex', gap: SPACING.px.micro }}>
        {DEPTH_MODEL.layers.filter(l => ['elevated', 'card', 'surface', 'page'].includes(l.name)).map((layer, idx) => (
          <div key={layer.name} style={{
            width: '40px',
            height: `${40 + idx * 20}px`,
            background: layer.light.color,
            borderRadius: RADIUS.xs,
            border: `1px solid ${SLATE[200]}`,
          }} />
        ))}
      </div>
      <div style={{
        display: 'flex',
        justifyContent: 'space-between',
        fontSize: TYPOGRAPHY.fontSize.xs[0],
        color: SLATE[500],
        marginTop: SPACING.px.micro,
      }}>
        <span>Close</span>
        <span>Far</span>
      </div>
    </div>

    <div style={{ width: SPACING.px.spacious }} />

    {/* Dark mode gradient bars */}
    <div style={{ textAlign: 'center' }}>
      <div style={{
        fontSize: TYPOGRAPHY.fontSize.xs[0],
        color: SLATE[500],
        marginBottom: SPACING.px.tight,
      }}>Dark Mode Depth</div>
      <div style={{ display: 'flex', gap: SPACING.px.micro }}>
        {DEPTH_MODEL.layers.filter(l => ['elevated', 'card', 'surface', 'page'].includes(l.name)).map((layer, idx) => (
          <div key={layer.name} style={{
            width: '40px',
            height: `${40 + idx * 20}px`,
            background: layer.dark.color,
            borderRadius: RADIUS.xs,
            border: `1px solid ${ABYSS[300]}`,
          }} />
        ))}
      </div>
      <div style={{
        display: 'flex',
        justifyContent: 'space-between',
        fontSize: TYPOGRAPHY.fontSize.xs[0],
        color: SLATE[500],
        marginTop: SPACING.px.micro,
      }}>
        <span>Close</span>
        <span>Far</span>
      </div>
    </div>
  </div>

  <div style={{
    background: ABYSS[600],
    borderRadius: RADIUS.md,
    padding: SPACING.px.base,
    textAlign: 'center',
  }}>
    <code style={{
      fontSize: TYPOGRAPHY.fontSize.sm[0],
      fontFamily: TYPOGRAPHY.fontFamily.mono,
      color: PRIMITIVES.white,
    }}>
      <span>Depth ↑ = Shade Value ↑ = Distance from Viewer ↑</span>
    </code>
  </div>
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Token Mapping by Depth</h2>

<SectionHeader
  icon={<Palette size={20} />}
  title="DDS Background Tokens"
  description="Required token assignments. Use exactly as specified."
/>

<div style={{
  background: PRIMITIVES.cream,
  borderRadius: RADIUS.lg,
  padding: SPACING.px.comfortable,
  border: `1px solid ${SLATE[200]}`,
  marginBottom: SPACING.px.section,
}}>
  <table style={{
    width: '100%',
    borderCollapse: 'separate',
    borderSpacing: 0,
    fontSize: TYPOGRAPHY.fontSize.sm[0],
    fontFamily: TYPOGRAPHY.fontFamily.sans,
    borderRadius: RADIUS.md,
    overflow: 'hidden',
    background: PRIMITIVES.white,
  }}>
    <thead>
      <tr>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'left', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>Depth Level</th>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'left', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>Semantic Token</th>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'center', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>
          <Sun size={14} color={SUNRISE[500]} style={{ verticalAlign: 'middle', marginRight: SPACING.px.micro }} />
          Light
        </th>
        <th style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'center', color: ABYSS[500], fontWeight: TYPOGRAPHY.fontWeight.semibold, borderBottom: `2px solid ${SLATE[200]}` }}>
          <Moon size={14} color={DUSK_REEF[500]} style={{ verticalAlign: 'middle', marginRight: SPACING.px.micro }} />
          Dark
        </th>
      </tr>
    </thead>
    <tbody>
      {DEPTH_MODEL.layers.map((layer) => (
        <tr key={layer.name} style={{ borderBottom: `1px solid ${SLATE[100]}` }}>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}` }}>
            <span style={{
              background: DEEP_CURRENT[50],
              color: DEEP_CURRENT[700],
              padding: `${SPACING.px.micro} ${SPACING.px.tight}`,
              borderRadius: RADIUS.full,
              fontSize: TYPOGRAPHY.fontSize.xs[0],
              fontWeight: TYPOGRAPHY.fontWeight.semibold,
            }}>
              {layer.depth}
            </span>
          </td>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, fontFamily: TYPOGRAPHY.fontFamily.mono, color: DEEP_CURRENT[700] }}>
            {layer.light.token}
          </td>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'center' }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: SPACING.px.tight, justifyContent: 'center' }}>
              <div style={{
                width: '28px',
                height: '28px',
                borderRadius: RADIUS.xs,
                background: layer.light.color,
                border: `1px solid ${SLATE[200]}`,
              }} />
              <span style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], fontFamily: TYPOGRAPHY.fontFamily.mono, color: ABYSS[400] }}>
                {layer.light.label}
              </span>
            </div>
          </td>
          <td style={{ padding: `${SPACING.px.compact} ${SPACING.px.base}`, textAlign: 'center' }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: SPACING.px.tight, justifyContent: 'center' }}>
              <div style={{
                width: '28px',
                height: '28px',
                borderRadius: RADIUS.xs,
                background: layer.dark.color,
                border: `1px solid ${SLATE[600]}`,
              }} />
              <span style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], fontFamily: TYPOGRAPHY.fontFamily.mono, color: ABYSS[400] }}>
                {layer.dark.label}
              </span>
            </div>
          </td>
        </tr>
      ))}
    </tbody>
  </table>
</div>

---

<h2 style={{ marginTop: SPACING.px.sectionHeadingTop, marginBottom: SPACING.px.sectionHeadingBottom }}>Rules</h2>

<div style={{
  display: 'grid',
  gridTemplateColumns: 'repeat(2, 1fr)',
  gap: SPACING.px.cardGap,
  marginBottom: SPACING.px.section,
}}>
  {/* Do: Use semantic tokens */}
  <div style={{ display: 'flex', gap: SPACING.px.tight, alignItems: 'flex-start' }}>
    <div style={{ background: DEEP_CURRENT[100], borderRadius: RADIUS.full, padding: SPACING.px.micro, flexShrink: 0 }}>
      <Check size={16} color={DEEP_CURRENT[700]} strokeWidth={3} />
    </div>
    <div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.sm[0], fontWeight: TYPOGRAPHY.fontWeight.semibold, color: ABYSS[500], marginBottom: SPACING.px.micro }}>Always use semantic tokens</div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[500] }}>Use the token system. Apply <code style={{ background: SLATE[100], padding: '2px 4px', borderRadius: RADIUS.xs, fontSize: TYPOGRAPHY.fontSize.xs[0] }}>background.elevated</code> for floating elements.</div>
    </div>
  </div>

  {/* Don't: Reverse depth order */}
  <div style={{ display: 'flex', gap: SPACING.px.tight, alignItems: 'flex-start' }}>
    <div style={{ background: CORAL[100], borderRadius: RADIUS.full, padding: SPACING.px.micro, flexShrink: 0 }}>
      <X size={16} color={CORAL[600]} strokeWidth={3} />
    </div>
    <div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.sm[0], fontWeight: TYPOGRAPHY.fontWeight.semibold, color: ABYSS[500], marginBottom: SPACING.px.micro }}>Never reverse depth order</div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[500] }}>Background elements must never be lighter than foreground elements.</div>
    </div>
  </div>

  {/* Do: Add shadows */}
  <div style={{ display: 'flex', gap: SPACING.px.tight, alignItems: 'flex-start' }}>
    <div style={{ background: DEEP_CURRENT[100], borderRadius: RADIUS.full, padding: SPACING.px.micro, flexShrink: 0 }}>
      <Check size={16} color={DEEP_CURRENT[700]} strokeWidth={3} />
    </div>
    <div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.sm[0], fontWeight: TYPOGRAPHY.fontWeight.semibold, color: ABYSS[500], marginBottom: SPACING.px.micro }}>Always add shadows for elevation</div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[500] }}>Elevated elements require shadows. Use <code style={{ background: SLATE[100], padding: '2px 4px', borderRadius: RADIUS.xs, fontSize: TYPOGRAPHY.fontSize.xs[0] }}>SHADOWS.md</code> or <code style={{ background: SLATE[100], padding: '2px 4px', borderRadius: RADIUS.xs, fontSize: TYPOGRAPHY.fontSize.xs[0] }}>SHADOWS.lg</code>.</div>
    </div>
  </div>

  {/* Don't: Arbitrary shades */}
  <div style={{ display: 'flex', gap: SPACING.px.tight, alignItems: 'flex-start' }}>
    <div style={{ background: CORAL[100], borderRadius: RADIUS.full, padding: SPACING.px.micro, flexShrink: 0 }}>
      <X size={16} color={CORAL[600]} strokeWidth={3} />
    </div>
    <div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.sm[0], fontWeight: TYPOGRAPHY.fontWeight.semibold, color: ABYSS[500], marginBottom: SPACING.px.micro }}>Never use arbitrary shades</div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[500] }}>Only use values specified in the token table above. No exceptions.</div>
    </div>
  </div>

  {/* Do: Exact steps */}
  <div style={{ display: 'flex', gap: SPACING.px.tight, alignItems: 'flex-start' }}>
    <div style={{ background: DEEP_CURRENT[100], borderRadius: RADIUS.full, padding: SPACING.px.micro, flexShrink: 0 }}>
      <Check size={16} color={DEEP_CURRENT[700]} strokeWidth={3} />
    </div>
    <div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.sm[0], fontWeight: TYPOGRAPHY.fontWeight.semibold, color: ABYSS[500], marginBottom: SPACING.px.micro }}>Follow exact shade steps</div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[500] }}>Adjacent layers must differ by 1-2 shade steps. Page → Surface → Card.</div>
    </div>
  </div>

  {/* Don't: Skip levels */}
  <div style={{ display: 'flex', gap: SPACING.px.tight, alignItems: 'flex-start' }}>
    <div style={{ background: CORAL[100], borderRadius: RADIUS.full, padding: SPACING.px.micro, flexShrink: 0 }}>
      <X size={16} color={CORAL[600]} strokeWidth={3} />
    </div>
    <div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.sm[0], fontWeight: TYPOGRAPHY.fontWeight.semibold, color: ABYSS[500], marginBottom: SPACING.px.micro }}>Never skip depth levels</div>
      <div style={{ fontSize: TYPOGRAPHY.fontSize.xs[0], color: SLATE[500] }}>Do not jump from ABYSS[900] to ABYSS[500]. Use intermediate values.</div>
    </div>
  </div>
</div>
